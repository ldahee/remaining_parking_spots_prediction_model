# 남은 주차 자리 수 예측 모델

- 군산대학교 소프트웨어융합공학과 4학년 2학기 텀프로젝트
  
- 프로젝트 기간: 2020.10 ~ 2020.12
  

## 프로젝트 배경 및 목표

![rMateChart_1257011](https://user-images.githubusercontent.com/41093239/171192044-85c6695c-b7cb-4a25-aa6c-2a7710b94c8d.png)

- 매년 자동차 총 등록대수가 증가하고 있으며, 주차난이 심각함
  
- 아파트, 대형마트, 공영주차장 등에 주차하기 위해서 주차장을 몇 바퀴 돌기도 함
  
- 이러한 시간 낭비를 줄이기 위해 실시간으로 주차 자리 수가 얼마나 남아있는지 확인할 수 있는 앱이 있음([서울주차정보](https://play.google.com/store/apps/details?id=kr.seoul.parkinginfo&hl=ko&gl=US))
  
- 하지만 주차장으로 가는 도중 남은 주차 자리 수는 변동될 수 있음
  
- 따라서 미리 남아있을 주차 자리 수를 예측하는 모델을 제안함
  

## 제안 방안

### 데이터 수집

가상의 주차장을 만들고, 주차 자리마다 상단에 초음파 센서를 부착하여 주차 여부 정보를 수집함

수집한 데이터는 MySQL에 저장됨

![가상 주차장](https://user-images.githubusercontent.com/41093239/171192089-f1f701f4-c7f5-4de4-8291-b41848fa77d8.png)

- 수집 데이터 예시
  
  | park\_id | node\_id | ultrasonic | is\_parking | date | day | time |
  | --- | --- | --- | --- | --- | --- | --- |
  | park1 | p1  | 32  | 0   | 2020-11-11 | Wed | 00\:04\:06 |
  | park1 | p1  | 32  | 0   | 2020-11-11 | Wed | 00\:04\:06 |
  | park1 | p1  | 32  | 0   | 2020-11-11 | Wed | 00\:04\:06 |
  
  - park\_id: 주차 구역 아이디
    
  - node\_id: 주차 자리 아이디
    
  - ultrasonic: 초음파 거리
    
  - is\_parking: 주차 여부(0: 비어있음, 1: 주차중)
    
  - date: 날짜
    
  - day: 요일
    
  - time: 시간
    

### 학습 데이터 생성

수집된 데이터로 학습 데이터를 생성함

- 학습 데이터 예시
  
  | feature1 | feature2 | feature3 | label |
  | --- | --- | --- | --- |
  | park\_id | day | time | count |
  | 1   | 1   | 12  | 0   |
  | 1   | 1   | 12.16667 | 2   |
  | 1   | 1   | 12.33333 | 2   |
  
  - park\_id: 주차 구역 아이디
    
    - 전체 주차 구역 아이디를 정렬한 뒤 1부터 차례대로 부여함
      
  - day: 요일
    
    - 월요일 부터 일요일까지 1부터 차례대로 부여함
      
  - time: 시간
    
    - 아래 수식으로 계산하여 스칼라값으로 변경함
      
      - hour + (minute/60)
        
  - count: 남은 자리 수
    
    - 10분 단위로 is\_parking 값이 0인 개수 계산
      
- 데이터 통계
  
  - 학습 데이터: 144
    
  - 평가 데이터: 36
    

### 모델 구축 및 학습

tensorflow 2.0 을 사용하여 FNN 모델 구축하여 주차 자리 수 예측 모델을 학습시킴

- 하이퍼 파라미터
  
  - \# of layers: 3
    
  - \# of hidden size: 16
    
  - Optimizer: Adam
    
  - Learning rate: 0.01
    
  - Batch size: 32
    
  - epoch: 132
    

## 결론

학습 결과 모델의 정확도는 0.75를 보임

- 기대효과
  
  - 주차장의 남은 자리 수를 미리 예측함으로써 시간을 절약할 수 있음
    
- 개선할 점
  
  - 남은 주차 자리 수에 영향을 미치는 요소가 시간 외에도 날씨, 명절 및 행사 등이 있음
    
  - 가상 주차장에서 임의로 구축한 적은 양의 데이터를 사용했기 때문에 정확도의 신뢰성이 떨어짐
